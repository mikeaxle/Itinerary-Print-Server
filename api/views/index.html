
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
      <link rel="stylesheet" type="text/css" href="css/style.css">
      <title>Document</title>
      <style>

      /* HEADER */
      header{
        height: 90px;
      }
      header img {
        display: block;
        margin: auto;
        padding-top: 35px
      }

      header h1.page-header {
        position: relative;
        margin: 12px 0px 0px 0px;
        color: #373737;
        font-family: 'old_standard_ttitalic';
        font-size: 24px;
        font-weight: normal;
        text-align: center;
      }
      header h1.page-header:after {
        content: "";
        position: absolute;
        width: 73px;
        height: 1px;
        background-color: #e0e0e0;
        left: 272px;
        bottom: -9px;
      }

      header p.subtitle {

        font-weight: normal;
        text-align: center;
        font-family: "montserratregular";
        font-size: 10px;
        letter-spacing: 0.8px;
        color: #373737;
        text-transform: uppercase;
        margin: 19px 0px 0px 0px;
      }

    footer {
      height: 50px;
      border-top: 1px solid #B18C51;
      width: 550px;
      left: 31px;
      text-align: center;
      display: block;
      margin: auto;
    }
    footer p{
      display: inline-block;
      color: #373737;
      font-family: "montserratregular";
      font-size: 7px;
      font-weight: 300;
      border-right: 0.5px solid #a3a3a3;
      margin-top: 15px;
      padding-right: 5px;
      padding-left: 5px;
      margin-right: -4px;
    }
    footer p:last-of-type{
      border-right: none;
    }

      </style>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
    </head>
    <body>
    <!-- THIRD PAGE -->
    <header id="pageHeader">
      <img src="http://itinerary-test.nowboarding.co.za/logo@2x.png" width="180">
    </header>
    <div class="page itenerary first">

    <h1 class="page-header">Your Itinerary</h1>
    <p class="subtitle">8 DAYS</p>
    <div class="line"></div>
    <main>
      <div class="container">

        <!-- SIDEBAR -->
        <ul class="sidebar">
          <li>
            <p class="title">Itinerary</p>
            <p class="field">Faulkner Family Safari </p>
          </li>
          <li>
            <p class="title">Safari Specialist</p>
            <p class="field">Troy Smith</p>
          </li>
          <li>
            <p class="title">Travel Dates</p>
            <p class="field">Tue Nov 20 2018 - Tue Nov 27 2018</p>
          </li>
          <li>
            <p class="title">Adults</p>
            <p class="field">5</p>
          </li>
          
          <li>
            <p class="title">Status</p>
            <p class="field">Confirmed</p>
          </li>
        </ul>

        <!-- ITENERARY ITEMS -->
    		<ul class="itenerary-items">
    			

				 <!-- day + comment -->
				 <li>
				 <div class="legend">
					 <p class="day">Day 1</p>
					 <p class="date">20 NOV</p>
				 </div>
				 <div class="description">
					 <p>Once you've collected your bags and made your way into the arrivals area at JKIA, you'll be met by a driver and transferred through Nairobi National Park to Ololo Lodge - located away from the hustle and bustle of Nairobi city. Overnight at Ololo Lodge in a Stable Room. </p>
					  <p class="info">We have booked 3x Stable Rooms for your family.</p>
				 </div>
			 </li>

				 <!-- day + comment -->
				 <li>
				 <div class="legend">
					 <p class="day">Day 2</p>
					 <p class="date">21 NOV</p>
				 </div>
				 <div class="description">
					 <p>Transfer through Nairobi National Park to Wilson Airport for your flight into the bush. Fly from Nairobi through to "the most wildlife dense region in Africa" - the Greater Maasai Mara. On safari at Encounter Mara Camp - game drives (day and night) and walking safaris. Overnight at Encounter Mara in a luxury tent. </p>
					  <p class="airport">SafariLink Flight: 10.00 - 11.00</p> <p class="info">At Encounter Mara, we have confirmed 1x double tent and 1x triple tent</p>
				 </div>
			 </li>

				 <!-- day + comment -->
				 <li>
				 <div class="legend">
					 <p class="day">Day 3 - 4</p>
					 <p class="date">22 NOV - 23 NOV</p>
				 </div>
				 <div class="description">
					 <p>On safari in the award-winning Mara Naboisho Conservancy - recognized as being home to some of the highest density of lion in all of Africa! Experience game drives (day + night) and walking safaris (conditions permitting). Overnight at Encounter Mara in a luxury tent. </p>
					 
				 </div>
			 </li>

				 <!-- day + comment -->
				 <li>
				 <div class="legend">
					 <p class="day">Day 5</p>
					 <p class="date">24 NOV</p>
				 </div>
				 <div class="description">
					 <p>Transfer through the bush to Mara House, located in the Mara North Conservancy (approx 1.5hrs). On safari in the Mara North Conservancy. Experience game drives (day + night) and walking safaris (conditions permitting) or simply relax by the pool overlooking the natural watering hole. Overnight at Mara House - your own private bush home. </p>
					 
				 </div>
			 </li>

				 <!-- day + comment -->
				 <li>
				 <div class="legend">
					 <p class="day">Day 6 - 7</p>
					 <p class="date">25 NOV - 26 NOV</p>
				 </div>
				 <div class="description">
					 <p>On safari in the Mara North Conservancy. Experience game drives (day + night) and walking safaris (conditions permitting) or simply relax by the pool overlooking the natural watering hole. Overnight at Mara House - your own private bush home. </p>
					 
				 </div>
			 </li>

				 <!-- day + comment -->
				 <li>
				 <div class="legend">
					 <p class="day">Day 8</p>
					 <p class="date">27 NOV</p>
				 </div>
				 <div class="description">
					 <p>Your final morning in the bush before flying back to Nairobi. </p>
					  <p class="airport">Safarilink Flight: 11.00 - 12.20</p> <p class="info">Own onward arrangements, unless otherwise specified</p>
				 </div>
			 </li>
        </ul>
    		<!-- end Itenerary items -->

        <!-- quote -->
        <div class="itenerary-quote">
          <h2>Quote</h2>

          <table class="quoting" cellspacing="0">

            <!-- Price -->
            <tr>
              <td class="description">Average price per person, per day of service</td>
              <td class="currency">USD</td>
              <td class="amount"/>443.75</td>
            </tr>
            <tr>
              <td class="description">Average price per person</td>
              <td class="currency">USD</td>
              <td class="amount">3,550.00</td>
            </tr>
            <tr class="total-price">
              <td class="description">Total Price</td>
              <td class="currency">USD</td>
              <td class="amount">17,750.00</td>
            </tr>

            

            <!-- payments -->
             <tr>
      <td class="description space" >Payment Recieved Tue Feb 06 2018 </td>
      <td class="currency space">USD</td>
      <td class="amount space">-5,325.00</td>
    </tr>
      

          <!-- BALANCE -->
            <tr class="balance-due">
              <td class="description">Balance Due</td>
              <td class="currency">USD</td>
              <td class="amount">12,425.00</td>
            </tr>
          </table>
        </div>
        </div>
      </main>
    </div>

     <!-- Contact-->
     <div class="page contact">
      <h1 class="page-header">Contact Information</h1>
      <main>
        <div class="container">
        
           <div class="contact-block">
        <p class="heading">Kenya</p>
        <div class="details">
          <!-- office hours -->
          <p class="field">Office Hours</p>
          <p class="value">+254 702 926 274</p>
          <br><!-- after hours -->
          <p class="field">After Hours</p>
          <p class="value">+254 790 406 230</p>
          <br>            <!-- after hours -->
          <p class="field">Alternative After Hours</p>
          <p class="value">+27 72 710 4045</p>
          <br></div></div>
        <h2 class="sub-header">True Africa - The Safari Company</h2>
        <div class="contact-block">
          <p class="heading">Cape Town Office</p>
          <div class="details">
            <p class="field">Office Hours</p>
            <p class="value">+27 21 418 1515</p>
            <br>
            <p class="field">Email</p>
            <p class="value">info@trueafrica.com</p>
            <br>
            <p class="field">After Hours (Mobile)</p>
            <p class="value">+27 82 387 2717</p>
          </div>
          <p class="aside">Our office is open Monday to Friday between 08:30 to 17:00, Standard South African Time (GMT +2 Hours). During weekends or after office hours, please contact us by mobile phone (call or SMS) rather than contacting the office line or emailing.</p>
        </div>

          <div class="info-block">
            <img src="https://firebasestorage.googleapis.com/v0/b/true-africa-itinerary.appspot.com/o/info%402x.png?alt=media&token=32aca098-eb54-4b6b-a7fd-494cc547daa2" alt="" width="24" height="24">
            <p>Please read your <em>Important Info for your Safari</em> brochure for further information about tipping, weather, visas, vaccines, what to pack and more.</p>
          </div>

        </div>
      </main>
    </div>
    <footer id="pageFooter">
      
  <p>True Africa - The Safari Company</p>
  <p>www.trueafrica.com</p>
  <p>info@trueafrica.com</p>
      
    </footer>
    <div id="pageFooter-first"></div>

<script>
$(function(){
// itenerary-items
// -------------------------
var height = 0;
var heightThreshold = 600;
var count = 0;
$( ".itenerary-items li" ).each(function( index ) {
  height =  height + $(this).outerHeight();
  if (count > 0) heightThreshold = 650;

  if (height > heightThreshold) {
    count ++;

    var copied = $(this).nextAll().addBack().detach();
    var ul =  $('.page.itenerary.first');
    //var copyUl = ul.clone().removeClass('page first').empty().append(copied);
    var test = $('<div class="page itenerary appended-' + count + '"><main><div class="container border-break"><div class="spacer"></div><ul class="itenerary-items copy-here'+ count +'"></ul></div></div></main></div>');

    $('.page.itenerary').last().after(test);
    //$('.copy-here'+ count).append(copyUl.removeClass('.first'));
    $('.copy-here'+ count).append(copied);

    // append quote to end
     $('.itenerary-quote').insertAfter($('.copy-here'+ count).last());

     // reset height to that of current item
     height = $(this).outerHeight();
  }

});


// Accomodation
// -------------------------
var accomCount = 0;

var accomHeight = 0;

// every 4th element
$( ".accom-list .wrapper" ).each(function( index ) {
  accomHeight = accomHeight + $(this).height() ;

  if (accomHeight > 500) {
    accomCount++;
  var copied = $(this).nextAll().detach();
  var ul =  $('.page.accomodation.first');
  var copyUl = ul.clone().removeClass('page first').empty().append(copied);
  var test = $('<div class="page accomodation appended-' + accomCount + '"><main><div class="container"><div class="accom-list accom-copy-here'+ accomCount +'"></div></div></div></main>');

  $('.page.accomodation').last().after(test);
  $('.accom-copy-here'+ accomCount).append(copyUl.removeClass('accomodation.first'));
  accomHeight = 0;
  }


console.log(accomCount);

});

$('.add-ons').insertAfter($('.accom-copy-here'+ accomCount).last());

// if inclusion + exclusions are too big
// ---------------------------------
console.log(accomHeight);
var addOnsHeight = $('.add-ons').height();
var pageAccomLast = $('.page.accomodation').last().height();
var lastaccomPage = $('.page.accomodation ').last();
var addonsThreshold = 610;
if( lastaccomPage.hasClass('first') ) addonsThreshold = 570;
if (accomHeight + addOnsHeight > addonsThreshold) {
  // create new page
  var newAddonPage = $('<div class="page accomodation"><main><div class="container "><div class="spacer"></div><div class="move-addons-here"></div></div></main></div>');
  // Move to new page
  var addOns = $('.add-ons').detach();
  lastaccomPage.after(newAddonPage);
  $('.move-addons-here').append(addOns);
}


// If QUOTE + ITENERary ARE TOO big
// ---------------------------------
var lastIteneraryPage = $('.page.itenerary').last();
var quoteThreshold = 610;
if( lastIteneraryPage.hasClass('first') ) quoteThreshold = 570;
var lastIteneraryItemsHeight = lastIteneraryPage.find('.itenerary-items').height();
var quotHeight = $('.itenerary-quote').outerHeight();
var pageHeight = 661;
var newPage = $('<div class="page itenerary quote-append"><main><div class="container border-break"><div class="spacer"></div><div class="move-quote-here"></div></div></main></div>');

if (lastIteneraryItemsHeight + quotHeight > quoteThreshold) {

    var quote = $('.itenerary-quote').detach();
    lastIteneraryPage.after(newPage);
    $('.move-quote-here').append(quote);
}
});
</script>

    </body>

    </html>